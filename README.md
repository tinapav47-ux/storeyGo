# storeyGo — Instagram Stories Downloader Bot (Go + Playwright)

Telegram-бот, который скачивает истории (stories) через `insta-stories.ru` и отправляет пользователю.

>>⚠️ Важно: Этот бот предназначен только для личного использования и обучения.
>>Telegram-бот переписан на Go для экспериментов с производительностью и использованием ресурсов. Первоначальная версия на Python была ресурсоёмкой.

---

## Стек технологий и версии
### 1️⃣ Язык программирования

**Go 1.22**  
- Основной язык проекта.  
- Отвечает за логику бота, сетевые запросы, работу с файлами и взаимодействие с Playwright.  

---

### 2️⃣ Telegram Bot API

**[go-telegram-bot-api v5.5.1](https://github.com/go-telegram-bot-api/telegram-bot-api)**  
- Работа с Telegram Bot API на Go.  
- Используется для:  
  - Получения сообщений от пользователей  
  - Отправки сообщений, фото, видео и медиагрупп  
  - Настройки обновлений (`GetUpdatesChan`)  

---

### 3️⃣ Автоматизация браузера

**[playwright-go v0.5001.0](https://github.com/playwright-community/playwright-go)**  
- Управление браузером Chromium через Go.  
- Позволяет:  
  - Открывать страницы сайтов (`page.Goto`)  
  - Взаимодействовать с элементами страницы (клики, ввод текста, скачивание медиа)  
  - Ждать полной загрузки страниц (`WaitForLoadState`)  
- Используется для скачивания Instagram Stories с обходом ограничений сайта.  

---

### 4️⃣ Контейнеризация

**Docker**  
- Упаковка бота со всеми зависимостями в контейнер.  
- Обеспечивает одинаковую среду выполнения на разных системах.  
- Позволяет запускать бота на Raspberry Pi и других Linux-серверах без установки зависимостей.  

---

### 5️⃣ Целевая платформа

**Linux ARM64 (Raspberry Pi)**  
- Контейнер собирается под архитектуру ARM64.  
- Обеспечивает корректную работу на Raspberry Pi.  

---

### 6️⃣ Саммари

| Компонент                | Версия     | Назначение                                         |
|---------------------------|-----------|---------------------------------------------------|
| Go                        | 1.22      | Логика бота, работа с файлами и сетью            |
| go-telegram-bot-api       | v5.5.1    | Взаимодействие с Telegram Bot API               |
| playwright-go             | v0.5001.0 | Автоматизация браузера для скачивания историй    |
| Docker                    | Последняя | Контейнеризация и переносимость                  |
| Raspberry Pi ARM64        | N/A       | Целевая платформа для запуска контейнера         |

---


---

## Команды в termimal после обновления файлов репозитории

1. Перейти в папку проекта
```
cd ~/storeyGo
```
2. Подтянуть последние изменения из ветки main
```
git fetch origin
git checkout main
git pull origin main
```
3. Обновление зависимостей Go
```
go mod tidy
```

4. Остановить и удалить старый контейнер (если он запущен)
```
docker stop storeygo || true
docker rm storeygo || true
```
5. Пересобрать образ
```
docker build -t storeygo .
```

6. Запустить контейнер заново с токеном
```
docker run -d --name storeygo \
-e TELEGRAM_TOKEN="TOKEN" \
storeygo
```
7. Смотреть логи (убедиться, что бот запустился)
```
docker logs -f storeygo
```


## Пользование

- Бот работает через Telegram (текущая реализация). По желанию можно настроить использование через terminal.
- Для запуска бота на своём устройстве нужен собственный токен Telegram, полученный у @BotFather.
- Доступ к моему боту не прдеоставляется по личным соображениям безопасности.
- Этот проект предназначен исключительно для личного обучения и экспериментов, а не для публичного использования.

---

## Безопасность

- Токен Telegram задаётся через переменные окружения, чтобы не хранить его в коде или в Git.

---

## Дополнительно

- Исходно бот был на Python и потреблял много ресурсов.
- Переписанный на Go бот показывает меньшую нагрузку и позволяет изучать производительность.
- Docker обеспечивает изоляцию и упрощает запуск на Raspberry Pi.





